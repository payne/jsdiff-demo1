<html>
<body>
<h1>Demo Two</h1>
<pre id="display"></pre>
<script src="bower_components/jsdiff/diff.js"></script>
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<script src="bower_components/bootstrap/dist/css/bootstrap-theme.min.css"></script>
<script src="bower_components/bootstrap/dist/css/bootstrap.css"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script>

var evilGlobalText="";

var updateTextArea = function() {
  var ta1 = $("#ta1");
  var old = ta1.text();
  console.log("old="+old);
  ta1.text(old+evilGlobalText);
}

var repeatHandler = function(e) {
  console.log(e);
  //if (e.is(":checked")) { console.log("Checked"); } else { console.log("NOT Checked"); }
  evilGlobalText="At the risk of repeating myself!\n";
  updateTextArea();
}

$(document).ready(function() {
  $("#repeat").change(repeatHandler);
  console.log("Ready.  Tried to set change handler.");
});

</script>

<form>
  <textarea rows=10 col=60 name="ta1" id="ta1"></textarea>
  <hr>
  <input type="checkbox" id="repeat"/> Repeat <br>
  <input type="checkbox" id="bad"/> Bad<br>
</form>

</body>
<html>

